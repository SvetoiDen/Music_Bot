import os
import discord
from discord.ext import commands
import config.config
from cogs.music import Button_Music

class Bot(commands.Bot):
    def __init__(self):
        super().__init__(command_prefix=commands.when_mentioned_or('$'), help_command=None, intents=discord.Intents.default().all())

    async def setup_hook(self):
        for filename in os.listdir('./cogs'):
            if filename.endswith('.py'):
                await self.load_extension(f'cogs.{filename[:-3]}')

bot = Bot()

@bot.event
async def on_ready():
    channel_4 = bot.get_channel(1235738984169209897)
    embed = discord.Embed(
        description='## –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π —É–≥–æ–ª–æ–∫\n'
                    '–ú—É–∑–∫–∞–ª—å–Ω—ã–π —É–≥–æ–ª–æ–∫, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–ª—É—à–∞—Ç—å —Å–≤–æ–∏ –ø–µ—Å–Ω–∏ –æ–¥–Ω–∏, –∏–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏. –í—Å–µ –ø–µ—Å–Ω–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ —é—Ç—É–±–∞, —Ç–∞–∫ —á—Ç–æ –ø–∏—à–∏—Ç–µ –≤–∞—à–∏ –ø–µ—Å–Ω–∏ –ø–æ–Ω—è—Ç–Ω–æ –∏ —á–µ—Ç—á–µ.\n'
                    '- ‚ûï - –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏ –ø–µ—Å–Ω–∏, –ª–∏–±–æ –æ–¥–Ω—É, –ª–∏–±–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å\n'
                    '- ‚ñ∂Ô∏è - –Ω–∞—á–Ω–∏—Ç–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å —Å–≤–æ–∏ –ø–µ—Å–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏! *–í–ù–ò–ú–ê–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è, —Ç–∞–∫ —á—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ, –∏–ª–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ.*\n'
                    '- ‚èπ - –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ –ø–µ—Å–Ω–∏, –∏–ª–∏ –∂–µ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –¥–∞–ª—å—à–µ –∏—Ö —Å–ª—É—à–∞—Ç—å, —Ç–æ –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ\n'
                    '- üéµ - –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∞—à–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏. –ú–æ–∂–µ—Ç–µ —á—Ç–æ —Ç–æ —É–±—Ä–∞—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å –∏—Ö –ø–æ—Ä—è–¥–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏ —Ç–¥\n',
        color=0xFFD00D
    )

    await channel_4.purge(limit=1)
    await channel_4.send(embed=embed, view=Button_Music(bot))

bot.run(config.config.TOKEN)
